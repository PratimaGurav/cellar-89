# 

![Logo](/media/logo1.jpeg)

## Cellar'89: E-commerce Applications.

### Code Institute: Portfolio Project 5

# About 

Cellar'89 is an online webshop where you can find an extensive selection of quality wines from France, Italy and many other wine countries. It provides age based sign up verification feature for responsible alcohol consumption. Verification email is sent to the email address provided.
It aims at users who wish to order wine online. The site allows users to create their own profile where they can save delivery address, view order history and add products to their wishlist. This profile is then stored in a database, allowing users to return to the site at any time and have their information retained. The user can either sign in using their Google account or using their credentials.

Orders over €50 are delivered free and if the order is less than €50 additional cost of 10% is charged as the delivery cost. The orders which are placed before 4Pm are delivered the next day. 

Products can be added to the cart and can be purchased using card payment. Order confirmation is sent to the email address provided. 

Users can also stay updated with all the latest and exclusive offers by following on Facebook page and by subscribing to the monthly newsletter.

Stripe test card can be used to test the card payment functionality.

Card Number- 4242 4242 4242 4242 - CVC and 5-number postal code at the end of the card can be any numbers.


# Target Audience

The site is targetted to people above 18 years and for Wine Lovers who have basic to good wine knowledge. People who are open to innovative packaging. Also who prefer to entertain their friends at home or have any formal occasions. The one who are influenced by wine ratings. For whom wine is part of their regular routine. And also who don't know much about wine and are interested in learning more about wines.


# Marketing

In addition to our target audience, our team aims to promote responsible alcohol consumption. The wine market is a highly competitive market due to many global and domestic companies operating in various countries hence we are delivering finest wines to consumers doorstep. Ordered before 4PM and it will be delivered tomorrow. We post consistently on Social Media. Our Facebook page can be viewed [here](/documentation/images/fb-page.jpeg). Consumers can also get exclusive offers by subscribing to our monthly newsletter.

# Search Engine Optimisation

Generated sitemap.xml and robots.txt files to improve the quality and quantity of website traffic. 
I have come up with a selection of keywords which would be importnt to the customers and added them in the [meta](/documentation/images/meta.jpeg).
  - [Keywords](/documentation/images/keywords.jpeg)
  - [Long-tail keywords](/documentation/images/long-tail.jpg)

![Site on a variety of device sizes](/documentation/images/responsive.jpeg)

[Click here to view the live project.](https://cellar-89.herokuapp.com/)

[Click here to view the repository.](https://github.com/PratimaGurav/cellar-89)

## Table of Contents:

* [User Experience (UX)](https://github.com/PratimaGurav/cellar-89#user-experience-ux)

* [Design](https://github.com/PratimaGurav/cellar-89#design)
  
* [Technologies Used](https://github.com/PratimaGurav/cellar-89#technologies-used)

* [Information Architecture](https://github.com/PratimaGurav/cellar-89#information-architecture)
  
* [Testing](https://github.com/PratimaGurav/cellar-89#testing)

* [Deployment](https://github.com/PratimaGurav/cellar-89#deployment)
  
* [Credits](https://github.com/PratimaGurav/cellar-89#credits)


## User Experience (UX) 

### User stories
- Agile methodology was used to create user stories. 
- GitHub’s [Kanban](https://github.com/PratimaGurav/cellar-89/projects/1) feature was used to track the progress of user stories. 

  #### Site User
   1. I can view a list of all products so that I can select some to purchase.
   2. I can view individual product details so that I can identify the rate, description, product rating, image.
   3. I can identify deals and special offers so that I can take advantage of special discounts on the products.
   4. I can easily view the total of my purchases at anytime so that I can avoid excess spending.
   5. I can register for an account so that I can have a personal account with my details and be able to view my profile.
   6. I can login with Google so it is easy and less time consuming. 
   7. I can login or logout so that I can access my personal account information.
   8. I can recover my password in case I forget it so that I can recover access to my account.
   9. I can receive an email confirmation after registering so that I can verify that my account registration was successful.
   10. I can have a personalized user profile so that I can view my personal order history and order confirmations, and save my payment information.
   11. I can sort the list of available products so that I can easily identify the best selling, best price and categorically sorted products.
   12. I can sort a specific category of product so that I can find the best selling, best priced product in a specific category or sort the products in that category by name.
   13. I can simultaneously sort multiple categories of products so that I can find the best selling, best priced products across broad categories.
   14.  I can search for a product by name or description so that I can find a specific product I would like to purchase.
   15.  I can see what I have searched for and the number of results. so that I can quickly decide whether the product I want is available.
   16. I can easily select the quantity of a product while purchasing it so that I can ensure I do not select wrong product quantity.
   17. I can view items in my cart to be purchased so that I can identify the total cost of my purchase.
   18. I can enter my payment information so that I can checkout quickly with no hassles.
   19. I can feel my personal and payment information is safe and secure so that I can confidently provide the needed information to make purchase.
   20. I can view order confirmation after checkout so that I can verify that I have not made any mistakes while purchasing the products.
   21. I can receive an email confirmation after checkout so that I can keep the confirmation of what I have purchased for my records.
   22. I can add/remove items to/from my Wishlist so that I can view or purchase it later. 
   23. I can add and delete review and ratings of a particular product.
   24. In case of any query I can contact the site owner by filling in the contact form.
   25. I want to stayed updated with all the latest and exclusive offers 
   26. I can have easy access to the privacy, terms and condition, responsible alcohol consumption policies and gain information of how my data is collected and processed.
   27. I want tips for picking a good bottle of wine. 

  #### Site Admin
   1. I am able to sell products online to only 18 years and above.
   2. I have the ability to add, remove or edit products.
   3. I have access to customer's orders so I can edit and/or remove it if necessary.
   4. I have access and keep track of customer information.
    
### Design

  - #### Color Scheme
    As the theme of the site is all about wine, the colours used are the classic red rose wine colours. The rest of the colours complement each other and maintain good contrast levels.
    Color Palettes are as below:
    ![1](/documentation/images/color.png)
    ![2](/documentation/images/color1.png)

  - #### Typography
    [Josefin Sans](https://fonts.google.com/specimen/Josefin+Sans?query=josefin+sans) font is the main font used throughout the whole website with Sans Serif as the fallback font in case for any reason the font isn't being imported into the site correctly. [Dancing Script](https://fonts.google.com/specimen/Dancing+Script?query=dancing+script) is used for headings with cursive as the fallback.  

  - #### Wireframes
    Balsamiq was used to create wireframes for mobile, tablet/ipad and desktop.
    
    [Desktop](/documentation/wireframes/desktop.pdf) |
    [Tablet](/documentation/wireframes/tablet.pdf) |
    [Mobile](/documentation/wireframes/mobile.pdf) |
   
    
## Features

 ### Existing Features

  The website is comprised of:

  1. [Home page](/documentation/images/features/home_page.jpeg)
  2. [Products page.](/documentation/images/features/products_page.jpeg)
      - [Sort Product](/documentation/images/features/sort_product.png)
  3. [Product Details page.](/documentation/images/features/product-details_page.jpeg)
  4. [Add to cart.](/documentation/images/features/add_to_cart.jpeg)
  5. [Shopping cart.](/documentation/images/features/shopping_cart.jpeg)
  6. [Checkout page.](/documentation/images/features/checkout.jpeg)
  7. [Checkout success page.](/documentation/images/features/checkout_success.png)
  8. [Contact us page.](/documentation/images/features/contact_us.jpeg)
  9. [Sign up page.](/documentation/images/features/sign_up.jpeg)
  10. [Sign in page.](/documentation/images/features/sign_in.jpeg)
  11. [Sign out page.](/documentation/images/features/sign_out.jpeg)
  12. [Reviews.](/documentation/images/features/reviews.jpeg)
      - [Product Review](/documentation/images/features/product_review.jpeg)
      - [Reviewed](/documentation/images/features/reviewed.jpeg)
      - [Delete Review](/documentation/images/features/delete_review.jpeg)
      - [No Reviews](/documentation/images/features/no_reviews_user.jpeg)
  13. [My Profile page.](/documentation/images/features/my_profile.png)
      - [Wish List](/documentation/images/features/my_profile_wishlist.png)
  14. [Search Bar.](/documentation/images/features/search_bar.png)
  15. [Password Reset page.](/documentation/images/features/password_reset.png)
  16. [Verify Email page.](/documentation/images/features/verify_email.png)
  17. [Product Management page.](/documentation/images/features/product_management.png)
      - [Product page-Admin](/documentation/images/features/products_page_admin.jpeg)
      - [Product details page-Admin](/documentation/images/features/product-details_page_admin.jpeg)
      - [Edit product-Admin](/documentation/images/features/edit_product.jpeg)
      - [Delete product-Admin](/documentation/images/features/delete_product.png)
     
All Pages on the website have:

* [A favicon icon.](static/favicon/android-chrome-512x512.png)
* [A responsive navbar.](/documentation/images/features/nav_bar.jpeg)
  - [Navbar Sort Items](/documentation/images/features/nav_sort_items.png)
* [A responsive footer.](/documentation/images/features/footer.jpeg)

### Future Enhancements 
  - Age verification modal to verify the users age.
  - Option to login using other social media accounts.
  - Functionality for the admin users to view order history on the front end.  
 
## Technologies Used

### Languages, Frameworks, Libraries & Programs Used

  - [HTML](https://en.wikipedia.org/wiki/HTML) was used to structure the site.
  - [CSS](https://en.wikipedia.org/wiki/CSS) was used to design the site. 
  - [JavaScript](https://en.wikipedia.org/wiki/JavaScript) was used to display messages to the user.
  - [Python+Django](https://en.wikipedia.org/wiki/Django_(web_framework)) framework.
  - [PostgresSQL](https://en.wikipedia.org/wiki/PostgreSQL) was used as relational database. 
  - [MARKDOWN](https://en.wikipedia.org/wiki/Markdown) was used to update Readme.
  - [Google Fonts](https://fonts.google.com/) were used to import the font into the style.css file which is used on all pages throughout the project.
  - [Font Awesome](https://fontawesome.com/) was used on all pages throughout the website to add icons for aesthetic and UX purposes.
  - [Git](https://git-scm.com/) was used for version control by utilizing the Gitpod terminal to commit to Git and Push to GitHub.
  - [GitHub](https://github.com/) was used to store the projects code after being pushed from Git.   
  - [Balsamiq](https://balsamiq.com/) was used to create the wireframes during the design process. 
  - [Color Adobe](https://color.adobe.com/) was used to select different colours used on the website. 
  - [Amazon AWS S3](https://aws.amazon.com/s3/) was used to host media (images) and static(CSS and JavaScript) files for the site.
  - [Heroku](https://heroku.com/) was used for deployment and hosting environment. 
  - [Favicon](https://favicon.io/) was used to create favicon.
  - [Canva](https://www.canva.com/) was used to create free logo.
  - [TinyPNG](https://tinypng.com/) was used to compress images.

## Information Architecture

### Database Models
- During the earliest stages of the project, the database was created using SQLite.
- The database was then migrated to PostgreSQL.

### Entity-Relationship Diagram
- The ERD was created using [Lucid](https://lucid.app/users/login#/login)
- [Database Scheme](/documentation/database-diagram.pdf)

### Data Modelling
- Allauth User Model
  - The user model was created using [Django-allauth](https://django-allauth.readthedocs.io/en/latest/).

- Category Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | Name	        | name          | CharField 	  | max_length=250|
  | Friendly Name | friendly_name | CharField     | max_length=250, null=True, blank=True|

- Product Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | Category	    | category      | ForeignKey 	  | Category, null=True, blank=True,on_delete=models.SET_NULL|
  | SKU		        | sku           | CharField     | max_length=254, null=True, blank=True|
  | Name          | name          | CharField     | max_length=254|
  | Country       | country       | CharField     | max_length=254|
  | Description   | description   | TextField     |               |
  | Price         | price         | DecimalField  | max_digits=6, decimal_places=2|
  | Rating        | rating        | DecimalField  | max_digits=6, decimal_places=2, null=True, blank=True|
  | Alcohol Percentage | alcohol_percentage | DecimalField | max_digits=3, decimal_places=1, null=True, blank=True|
  | Grape Variety |  grape_variety | CharField    | max_length=254|
  | Image Url     | image_url      | URLField     | max_length=1024, null=True, blank=True|
  | Image         | image          | ImageField   | null=True, blank=True|

- Review Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | User    	    | user          | ForeignKey 	  | User, null=True, on_delete=models.SET_NULL|
  | Product       | product       | ForeignKey    | Product, on_delete=models.CASCADE|
  | Product Rating| product_rating| IntegerField  | choices=RATING_CHOICES, default=5|
  | Title         | title         | CharField     | verbose_name=('Review Title'), max_length=25, null=False, blank=False|
  | User Review   | user_review   | TextField     | verbose_name=('User Review'), max_length=250, null=False, blank=False|
  | Created On    | created_on    | DateTimeField | auto_now_add=True |

- Order Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | Order Number  |  order_number | CharField 	  | max_length=32, null=False, editable=False|
  | User Profile  | user_profile  | ForeignKey    | UserProfile, on_delete=models.SET_NULL, null=True, blank=True, related_name='orders'|
  | Full Name     |  full_name    | CharField     | max_length=50, null=False, blank=False|
  | Email         | email         | EmailField    | max_length=254, null=False, blank=False|
  | Phone Number  |  phone_number | CharField     | max_length=20, null=False, blank=False|
  | Country       | country       | CountryField  | blank_label='Country *', null=False, blank=False|
  | Postcode      | postcode      | CharField     | max_length=20, null=True, blank=True|
  | Town or City  | town_or_city  | CharField     | max_length=40, null=False, blank=False|
  | Street Address1 | street_address1 | CharField | max_length=80, null=False, blank=False|
  | Street Address2 | street_address2 | CharField | max_length=80, null=False, blank=True|
  | County        |  county       | CharField     | max_length=80, null=False, blank=True|
  | Date          | date          | DateTimeField | auto_now_add=True|
  | Delivery Cost | delivery_cost | DecimalField  | max_digits=6, decimal_places=2, null=False, default=0|
  | Order Total   | order_total   | DecimalField  | max_digits=10, decimal_places=2, null=False, default=0|
  | Grand Total   | grand_total   | DecimalField  | max_digits=10, decimal_places=2, null=False, default=0|
  | Original Cart | original_cart | TextField     | null=False, blank=False, default=''|
  | Stripe Pid    | stripe_pid    | CharField     | max_length=254, null=False, blank=False, default=''|

- OrderLineItem Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | Order    	    | order         | ForeignKey 	  | Order, null=False, blank=False, on_delete=models.CASCADE related_name='lineitems'|
  | Product       | product       | ForeignKey    | Product, null=False, blank=False, on_delete=models.CASCADE|
  | Quantity      | quantity      | IntegerField  | null=False, blank=False, default=0|
  | Lineitem Total|lineitem_total | DecimalField  | max_digits=6, decimal_places=2, null=False, blank=False, editable=False|

- Contact Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | Name    	    | name          | CharField 	  | blank=False, max_length=200|
  | Email         | email         | EmailField    |                            |
  | Subject       | subject       | CharField     | blank=False, max_length=200|
  | Message       |message        | TextField     | blank=False|

- UserProfile Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | User          | user          | OneToOneField | User, on_delete=models.CASCADE|
  | Default Phone Number | default_phone_number | CharField | max_length=20, null=True, blank=True|
  | Default Street Address1 | default_street_address1 | CharField | max_length=80, null=True, blank=True|
  | Default Street Address2 | default_street_address2 | CharField | max_length=80, null=True, blank=True|
  | Default Town or City    | default_town_or_city    | CharField | max_length=40, null=True, blank=True|
  | Default County          | default_county          | CharField | max_length=80, null=True, blank=True|
  | Default Postcode        | default_postcode        | CharField | max_length=20, null=True, blank=True|
  | Default Country         | default_country         | CountryField | blank_label='Country', null=True, blank=True|

- WishListItem Model

  | Name          | Database Key  | Field Type    | Validation |
  | ------------- | ------------- | ------------- | ---------- |
  | User    	    | user          | OneToOneField | User, on_delete=models.CASCADE|
  | Product       | product       | ManyToManyField | Product, blank=True |

## Testing

### Bugs
- Site had a feature of age verification modal [Code pen](https://codepen.io/tuhi009/pen/xxxBGdB) site was used as a reference. Age criteria and cookies statement did not work correctly and had [error](/documentation/images/age-modal-bug.png). After consulting with the Tutor team and to avoid author plagiarism the same was deleted. 
  - Fix : As an alternative Responsible Alcohol Consumption modal was added and the marquee features age criteria. Also the sign up page has a feature to certify the age is 18 years and above.

- Review form layout had layout issue [error](/documentation/images/review-form-bug.jpeg)
  - Fix : overflow scrollbar was added. 

### Validation

- [W3C Markup Validator](https://validator.w3.org/nu/) was used to validate every HTML page of the project to ensure there are no  syntax errors. 

- [PEP8](http://pep8online.com/) was used to validate python code.

- [W3C CSS Validator](https://jigsaw.w3.org/css-validator/#validate_by_input) was used to validate CSS.


### Further Testing

  - Thorough testing was done to ensure all the features work as expected and smoothly within the application for all the users including the admin. Detailed summary of the testing can be found in the below attachments:
    -  [User Story Testing](/documentation/user_story_testing.pdf)
    - [User Validation Testing](/documentation/user_validation_testing.pdf)
  
  - Peer Code Review(channel) were also requested to review the project.
  - Friends and family members were requested to use the application and provide feedback or suggestions for any user experience issues.

### Known Bugs
  - There are currently no known bugs.

## Deployment

### Using Heroku
  - Create an account and login to [Heroku](https://id.heroku.com/)
  - Create a new app, with an appropriate app name and choose a region.
    ![Create App](/documentation/images/heroku-create-app.jpg)
  - In Resources add Heroku Postgres.
    ![Resources](/documentation/images/heroku-resources.jpg)
  - Within your newly created app go to settings and click Config Vars. Use the DATABASE_URL Value and add it to your env.py file also you need to connect it via settings.py.
    ![Config Vars](/documentation/images/heroku-configvars.jpg)
  - Create a SECRET_KEY Key and the Value as the desired key.
  - Then go to the Deploy tab next to Deployment Method, click GitHub to connect your account and repository.
  - At the bottom of the page hit deploy branch making sure it is set to main.
  - Also "Enable Automatic Deploys" can be clicked to keep the app up to date with your Github repository.

### Amazon Web Services S3
  Create an account and login to [AWS](https://aws.amazon.com/)
  - Navigate to the IAM application and create a user and group.
  - Set the AmazonS3FullAccess for the user and copy the AWS ACCESS and SECRET keys as config vars to your workspace and deployment environment.
  - Create a new Bucket within the S3 application with an appropriate name.
  - Enable public access for your bucket so users can access and use the services on your website (upload, view, download, etc). More info can be read in the [official documentation](https://aws.amazon.com/s3/) 

### How to Fork

  1. Log in to GitHub and navigate to the [GitHub Repository](https://github.com/PratimaGurav/cellar-89)
  2. Click the Fork button in the top right corner.
  3. You will find a copy of the repository in your own Github account.

### How to Clone

  1. Log in to GitHub and navigate to the [GitHub Repository](https://github.com/PratimaGurav/cellar-89)
  2. Click on the code button, select whether you would like to clone with HTTPS, SSH or GitHub CLI and copy the link shown.
  3.  Open the terminal in your code editor and change the current working directory to the location you want to use for the cloned directory.
  4. Type 'git clone' into the terminal and then paste the link you copied in step 3. Press enter.

## Credits

### Code
- Project- Boutique Ado was referred for designing and technical implementation.
- [Stack Overflow](https://stackoverflow.com/) was referred for resloution of technical queries.

### Media and Content 
- Images were taken from following websites:
  - [Pexels](https://www.pexels.com/)
  - [Unsplash](https://unsplash.com/)
  - [String Fixer](https://stringfixer.com/)
- Product info and cost price were taken from following websites:
  - [Gall & Gall](https://www.gall.nl/)
  - [Vivino](https://www.vivino.com/NL/en/)
  - [Drunken Boutique](https://www.drankenboutique.nl/)
- Blog post to understand how to choose wine.
  - [Royal Glass](https://royal-glass.com/blog/how-to-choose-wine/)

## Acknowledgement

  -   My Mentor for guidance and timely feedbacks.
  -   All the tutors (Ger, John, Kevin) from Code Institute for continuous support.

## [BACK TO TOP](https://github.com/PratimaGurav/cellar-89#cellar-89)